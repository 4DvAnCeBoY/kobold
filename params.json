{"name":"Kobold","tagline":"Visual regression testing framework, comparing screenshots from multiple builds","body":"Kobold\r\n======\r\n\r\nVisual regression testing framework, comparing screenshots from multiple builds.\r\n\r\n\r\n[![Build Status](https://secure.travis-ci.org/yahoo/kobold.png)](http://travis-ci.org/yahoo/kobold)\r\n[![npm version](https://badge.fury.io/js/kobold.svg)](http://badge.fury.io/js/kobold)\r\n\r\n[![NPM](https://nodei.co/npm/kobold.png?downloads=true)](https://nodei.co/npm/kobold/)\r\n\r\n\r\n[API-Documentation](http://yahoo.github.io/kobold/docs/)\r\n\r\n[Coverage Report](http://yahoo.github.io/kobold/coverage/lcov-report/)\r\n\r\n\r\n**Table of Contents**\r\n* [Installation](#installation)\r\n* [Getting Started](#getting-started)\r\n* [Command-Line](#command-line)\r\n* [Examples](#examples)\r\n* [API-Documentation](#api-documentation)\r\n* [Tests](#tests)\r\n* [Project Naming](#project-name)\r\n* [Third-party libraries](#third-party-libraries)\r\n* [License](#license)\r\n\r\n\r\n##Installation\r\n\r\nInstall this module with the following command:\r\n```shell\r\nnpm install kobold\r\n```\r\n\r\nInstall this module globally with the following command:\r\n```shell\r\nnpm install -g kobold\r\n```\r\nThis will make sure that you don't have to enter the whole path when running Kobold.\r\n\r\n\r\nAdd the module to your ```package.json``` dependencies:\r\n```shell\r\nnpm install --save kobold\r\n```\r\nAdd the module to your ```package.json``` dev-dependencies:\r\n```shell\r\nnpm install --save-dev kobold\r\n```\r\n\r\n##Getting Started\r\n\r\nKobold can be executed by running ```kobold``` script in the ```bin``` directory of the package. When you installed the module globally, then you can us only ```kobold``` to run it.\r\n\r\nOnly one parameter is required to run the tests:\r\n\r\n```shell\r\nkobold test/ui/regression\r\n```\r\n\r\nWith this parameter, Kobold starts running tests on the ```test/ui/regression``` directory. It analyzes what screens were already approved, what screens are available in the current build, and what screens it has to compare. Then, it creates the test-code and executes the image-comparison, creating the test results in the ```highlight``` directory.\r\n\r\nInstead of implicitly using the last argument for the test-path, you can also be more specific and supply the ```--test-path``` parameter:\r\n```shell\r\nkobold --test-path test/ui/regression\r\n```\r\n\r\nBy default, Kobold will look for four directories:\r\n\r\n* ```approved``` - All approved screens should be available in this folder. These are the \"golden standard\" images that will be used to compare them to build screens.\r\n* ```build``` - Screens that were just taken are saved in this folder. This is most likely done by some Selenium tests, taking screenshots and saving them in this directory. These images will be compared to the images in the ```approved``` folder, creating comparison result images in ```highlight```.\r\n* ```highlight``` - Image comparison results of the latest test-run are saved in this folder. These images will highlight the differences between the ```approved```-image and the ```build```-image.\r\n* ```config``` - Custom configuration files (.js or .json) for image specific comparison options. Sometimes, it is helpful to tune the comparison of a specific image. These options overwrite globally set comparison options. They are also optional. See the Blink-Diff Project WebSite for more information on these options.\r\n\r\nThe folder names for ```approved```, ```build```, ```highlight```, and ```config``` can be changed by supplying the parameters ```--approved-folder```, ```--build-folder```, ```--highlight-folder```, and ```--config-folder``` respectively:\r\n \r\n```shell\r\nkobold --approved-folder \"golden\" --highlight-folder \"differences\"/test/ui/regression\r\n```\r\nThis test-run will look for ```golden``` and ```differences``` for the ```approved``` and ```highlight``` folder respectively instead of using the default folder names. In this specific case, ```build``` was not changed.\r\n\r\nSometimes, you want the tests to fail when previously approved screens are missing from the ```build``` directory. This can be the case when for example the tests that created these screenshots didn't fully run. Use the ```--fail-orphans``` flag to make these tests fail:\r\n```shell\r\nkobold --fail-orphans test/ui/regression\r\n```\r\n\r\nThe ```--fail-additions``` flag will fail tests for screens that are new, screens that were never approved before.\r\n```shell\r\nkobold --fail-orphans --fail-additions test/ui/regression\r\n```\r\n\r\nKobold also supports all Mocha parameters which can be interspersed with the Kobold parameters:\r\n```shell\r\nkobold --slow 3000 --fail-orphans --fail-additions --reporter dot --test-path test/ui/regression\r\n```\r\n\r\n##Command-Line\r\nSince Kobold is built on top of Mocha, it supports all of its parameters in addition to the following:\r\n* ```approved-folder``` - Name of the approved folder (default: 'approved')\r\n* ```build-folder``` - Name of the build folder (default: 'build')\r\n* ```highlight-folder``` - Name of the highlight folder (default: 'highlight')\r\n* ```config-folder``` - Name of the config folder (default: 'config')\r\n* ```fail-orphans``` - Flag that determines that tests should fail when screens that were previously approved, being in the ```approve``` folder, are not found in the ```build``` folder.\r\n* ```fail-additions``` - Flag that determines that tests should fail when unapproved screens are found in the ```build``` folder, meaning screens that are missing from the ```approve``` folder.\r\n* ```test-path``` - Path to directory with all test related folders as mentioned above (required). Uses implicitly the last parameter element when none is given.\r\n* ```config``` - Path to a config file (.js or .json) that is used to overwrite comparison options. (default: none) See the Blink-Diff Project WebSite for more information on these options.\r\n\r\n##Configuration\r\nThe global configuration file that can be selected by supplying ```--config``` to the command-line describes default-values for the comparison. \r\n\r\nHere is an example of the file (```config.js``` - can also be a JSON file):\r\n```javascript\r\nmodule.exports = {\r\n\t\"delta\": 35 // Changing the distance of pixel-comparison\r\n};\r\n```\r\n\r\nThis file then can be called as follows:\r\n```shell\r\nkobold --config config.js test/ui/regression\r\n```\r\n\r\nConfiguration files for specific screens on the other hand describe only the comparison options for that screen. \r\nHere is an example for a screen that is named \"YDN_Missing\"; the path is ```config/YDN_Missing.json``` (could also be a ```.js```):\r\n```javascript\r\n{\r\n\t\"outputBackgroundOpacity\": 0.3,\r\n\t\"outputBackgroundGreen\": 100\r\n}\r\n```\r\nThis example will make the background for the comparison image look greener, and lightens-up the whole comparison by reducing the opacity of the background-mask.\r\n\r\n##Examples\r\nKobold creates a regular test report as if the tests were manually written, and it also creates the following images, comparing the approved (left) with the build screenshot (right), pointing out the differences (middle).\r\n* Changed color [![Screen1](https://raw.githubusercontent.com/yahoo/kobold/master/images/YDN_Color.png)](https://raw.githubusercontent.com/yahoo/kobold/master/examples/highlight/YDN_Color.png)\r\n* Missing items [![Screen2](https://raw.githubusercontent.com/yahoo/kobold/master/images/YDN_Missing.png)](https://raw.githubusercontent.com/yahoo/kobold/master/examples/highlight/YDN_Missing.png)\r\n* Messed-up sorting [![Screen3](https://raw.githubusercontent.com/yahoo/kobold/master/images/YDN_Sort.png)](https://raw.githubusercontent.com/yahoo/kobold/master/examples/highlight/YDN_Sort.png)\r\n* Image swap [![Screen4](https://raw.githubusercontent.com/yahoo/kobold/master/images/YDN_Swap.png)](https://raw.githubusercontent.com/yahoo/kobold/master/examples/highlight/YDN_Swap.png)\r\n* Text formatting [![Screen4](https://raw.githubusercontent.com/yahoo/kobold/master/images/YDN_Upper.png)](https://raw.githubusercontent.com/yahoo/kobold/master/examples/highlight/YDN_Upper.png)\r\n\r\nThese examples can be found in the ```examples``` folder. The above results were produced by running the following command in the project root with a globally installed Kobold:\r\n\r\n```shell\r\nkobold test/ui/regression\r\n```\r\n\r\n##API-Documentation\r\n\r\nGenerate the API-documentation with following command:\r\n```shell\r\nnpm run docs\r\n```\r\nThis will generate the source-code documentation in the ```docs``` folder of the module root.\r\n\r\n##Tests\r\n\r\nRun the tests with the following command:\r\n```shell\r\nnpm run test\r\n```\r\nThe code-coverage will be written to the ```coverage``` folder in the module root.\r\n\r\n##Project Name\r\nA Kobold is a gnome that can make itself invisible and is often the source of nuisances - so, pretty much like visual regressions.\r\n\r\n##Third-party libraries\r\n\r\nThe following third-party libraries are used by this module:\r\n\r\n###Dependencies\r\n* blink-diff: https://github.com/yahoo/blink-diff\r\n* preceptor-core: https://github.com/yahoo/preceptor-core\r\n* kobold-core: https://github.com/yahoo/kobold-core\r\n* log4js: https://github.com/nomiddlename/log4js-node\r\n* promise: https://github.com/then/promise\r\n* mocha: https://github.com/visionmedia/mocha\r\n\r\n###Dev-Dependencies\r\n* chai: http://chaijs.com\r\n* istanbul: https://github.com/gotwarlost/istanbul\r\n* yuidocjs: https://github.com/yui/yuidoc\r\n\r\n##License\r\n\r\nThe MIT License\r\n\r\nCopyright 2014 Yahoo Inc.\r\n","google":"UA-56408730-7","note":"Don't delete this file! It's used internally to help with page regeneration."}